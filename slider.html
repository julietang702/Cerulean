<!DOCTYPE html>
<html>
  <head>
    <title>Year Filter</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div id="map"></div>
    <input type="range" min="1950" max="2021" value="1950" id="year-range" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
    <script>
      // Create a Leaflet map
      var myMap = L.map("map").setView([37.0902, -95.7129], 4);

      // Add OpenStreetMap tile layer to the Leaflet map
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        attribution:
          '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
      }).addTo(myMap);

      // Create a heatmap layer with some data
      var heatmapData = [
        [37.782, -122.447],
        [37.782, -122.443],
        [37.782, -122.441],
        [37.782, -122.439],
        [37.782, -122.435],
        [37.785, -122.447],
        [37.785, -122.445],
        [37.785, -122.441],
        [37.785, -122.437],
        [37.785, -122.435],
        [37.787, -122.447],
        [37.787, -122.445],
        [37.787, -122.441],
        [37.787, -122.437],
        [37.787, -122.435],
      ];
      var heat = L.heatLayer(heatmapData).addTo(myMap);

      // Update the heatmap layer when the slider value changes
      var slider = document.getElementById("year-range");
      slider.oninput = function () {
        var filteredData = heatmapData.filter(function (data) {
          return data[2] >= slider.value;
        });
        heat.setLatLngs(filteredData);
      };
    </script>
  </body>
</html>
